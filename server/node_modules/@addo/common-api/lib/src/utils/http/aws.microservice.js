"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AWSMicroservice = void 0;
const microservice_1 = require("../../utils/http/microservice");
const http_request_1 = require("./models/http.request");
class AWSMicroservice extends microservice_1.Microservice {
    constructor(handler) {
        super(handler);
    }
    parseRequest(request) {
        let req = new http_request_1.Request();
        req.body = request.body;
        req.headers = request.headers;
        req.pathParameters = request.pathParameters;
        req.queryStringParameters = request.queryStringParameters;
        req.original = request;
        return new http_request_1.HttpRequest(req);
    }
    async getAHandler(event, context, callback) {
        this.context = context;
        this.callback = callback;
        context.callbackWaitsForEmptyEventLoop = false;
        this.http = this.parseRequest(event);
        return await this.handle(this.http);
    }
}
exports.AWSMicroservice = AWSMicroservice;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXdzLm1pY3Jvc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy91dGlscy9odHRwL2F3cy5taWNyb3NlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsZ0VBQTZEO0FBRTdELHdEQUE2RDtBQUU3RCxNQUFhLGVBQXNCLFNBQVEsMkJBQWtCO0lBSTNELFlBQVksT0FBdUQ7UUFDakUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxZQUFZLENBQUMsT0FBd0I7UUFDbkMsSUFBSSxHQUFHLEdBQVksSUFBSSxzQkFBTyxFQUFFLENBQUM7UUFDakMsR0FBRyxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBQ3hCLEdBQUcsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQztRQUM5QixHQUFHLENBQUMsY0FBYyxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUM7UUFDNUMsR0FBRyxDQUFDLHFCQUFxQixHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQztRQUMxRCxHQUFHLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztRQUN2QixPQUFPLElBQUksMEJBQVcsQ0FBSSxHQUFHLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsS0FBSyxDQUFDLFdBQVcsQ0FBRSxLQUFzQixFQUFFLE9BQWdCLEVBQUUsUUFBa0M7UUFDN0YsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsT0FBTyxDQUFDLDhCQUE4QixHQUFHLEtBQUssQ0FBQztRQUUvQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckMsT0FBTyxNQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3RDLENBQUM7Q0FDRjtBQTFCRCwwQ0EwQkMifQ==